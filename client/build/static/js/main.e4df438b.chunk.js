(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),s=a(7),o=a(5),i=(a(71),function(e){return r.a.createElement("input",{className:e.className,type:e.type,value:e.value,checked:e.checked,placeholder:e.placeholder,onChange:e.onChange,onKeyDown:e.onKeyDown})}),u=a(16),m=a.n(u),d=a(22),p=a(51),f=a.n(p).a.create({baseURL:"http://localhost:4000/api",withCredentials:!0});f.interceptors.request.use((function(e){return e.headers.Authorisation="Bearer ".concat(localStorage.getItem("Access_token")),e}));var E=null;f.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?(E=e.response.data.originalReq,console.log("original req: ",E),console.log("Message from axios interceptor : (cought 401 eror)access token was expired and now trying to refresh"),f.get("user/refresh").then((function(e){return console.log('Message from axios interceptor (response from "user/refresh"): sending refreshed access token to for "user/auth"'),localStorage.setItem("Access_token",e.data.tokens.tokens.access_token),f.get("user/auth").then((function(e){switch(console.log("Message from axios interceptor: user successfully refreshed"),E.method){case"GET":return f.get("".concat(E.url.split("api")[1]));case"POST":return f.post("".concat(E.url.split("api")[1]),E.body);case"PUT":return f.put("".concat(E.url.split("api")[1]),E.body);default:return e}})).catch((function(e){return Promise.reject(e)}))})).catch((function(e){return console.log('Message from axios interceptor (response from "user/refresh"): refresh was expired or something else happened'),Promise.reject(e)}))):(console.log("Message from axios interceptor: error.status !== 401 "),Promise.reject(e))}));var v=a(9),b=a(12),h=a(4),O={registration_errors:{name:{value:!1,message:""},lastname:{value:!1,message:""},email:{value:!1,message:""},password:{value:!1,message:""}},options_menu:!1,show_sidebar:!1,showpopup:!1,members:[],photos:[]};var g=function(e){return{type:"SWITCH_OPTIONS_MENU_VISIBILITY",payload:e}},_=function(e){return{type:"SET_SIDEBAR_VISIBILITY",payload:e}},N=function(e,t,a){return{type:"SET_REGISTRATION_ERRORS",payload:t,error:e,message:a}},y=function(e){return{type:"REMOVE_REGISTRATION_ERROR",error:e}},j={currentUser:{},isAuth:!1};var S=function(e){return{type:"SET_USER",payload:e}};function k(e,t,a,n){return function(){var r=Object(d.a)(m.a.mark((function r(c){var l;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f.post("/user/registration",{email:e,password:t,name:a,lastName:n});case 3:l=r.sent,c(S(l.data.user.user)),localStorage.setItem("Access_token",l.data.user.access_token),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.response.data),r.t0.response.data.errors.errors.map((function(e){return c(N(e.param,!0,e.msg))}));case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}function w(e,t){return function(){var a=Object(d.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.post("/user/authorisation",{email:e,password:t});case 3:r=a.sent,n(S(r.data.user.user)),localStorage.setItem("Access_token",r.data.user.access_token),a.next=11;break;case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",alert(a.t0.response.data.message));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}var C=a(6),x=(a(96),function(){var e=Object(C.b)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),E=f[0],v=f[1],b=Object(n.useState)(""),h=Object(o.a)(b,2),O=h[0],g=h[1],_=Object(C.c)((function(e){return e.UI.registration_errors}));return r.a.createElement("div",{className:"registration"},r.a.createElement("div",{className:"registration__inner"},r.a.createElement("h1",null,"Registration"),r.a.createElement(i,{className:_.name.value?"error_input":"",type:"text",placeholder:"First name",value:E,onChange:function(e){return v(e.target.value)}}),r.a.createElement(i,{className:_.lastname.value?"error_input":"",type:"text",placeholder:"Last name",value:O,onChange:function(e){return g(e.target.value)}}),r.a.createElement(i,{className:_.email.value?"error_input":"",type:"text",placeholder:"email",value:c,onChange:function(t){l(t.target.value),_.email.value&&e(y("email"))}}),_.email.value&&r.a.createElement("span",{className:"error_message"},"*",_.email.message),r.a.createElement(i,{className:_.password.value?"error_input":"",type:"password",placeholder:"password",value:m,onChange:function(t){d(t.target.value),_.password.value&&e(y("password"))},onKeyDown:function(t){if("Enter"===t.code)return e(k(c,m,E,O))}}),_.password.value&&r.a.createElement("span",{className:"error_message"},"*",_.password.message),r.a.createElement("button",{onClick:function(){return e(k(c,m,E,O))}},"Send")))}),I=(a(97),function(){var e=Object(C.b)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",{className:"authorisation"},r.a.createElement("div",{className:"authorisation__inner"},r.a.createElement("h1",null,"Authorisation"),r.a.createElement(i,{type:"text",placeholder:"email",value:c,onChange:function(e){l(e.target.value)}}),r.a.createElement(i,{type:"password",placeholder:"password",value:m,onChange:function(e){d(e.target.value)},onKeyDown:function(t){if("Enter"===t.code)return e(w(c,m))}}),r.a.createElement("button",{onClick:function(){e(w(c,m))}},"Send")))}),T=(a(98),function(){return r.a.createElement("div",{className:"default"},r.a.createElement("div",{className:"title"},"DefaultPage"),r.a.createElement("div",{className:"main info"},"In order to search for accomodation you have to register"))}),P=(a(99),a(100),a(11)),R=function(e){var t=e.family;return r.a.createElement(P.b,{style:{textDecoration:"none"},to:"/show/".concat(t._id)},r.a.createElement("div",{className:"familyItem"},t.photos?r.a.createElement("img",{src:t.photos[0],alt:""}):r.a.createElement("div",null),r.a.createElement("div",{className:"data"},r.a.createElement("div",{className:"title"},"Family in ",t.district),r.a.createElement("ul",{className:"properties"},r.a.createElement("li",null,t.property_type),r.a.createElement("li",null,t.accommodation_type)),r.a.createElement("div",{className:"free-costs_container"},r.a.createElement("div",{className:"freeProperty"},!0===t.free?r.a.createElement("div",{className:"free"},"Free right now"):r.a.createElement("div",{className:"free_after"},"Free after: ",t.free)),r.a.createElement("div",{className:"costs"},r.a.createElement("div",{className:"costs_container"},r.a.createElement("div",{className:"costs_type"},"without food"),r.a.createElement("div",{className:"costs_number"},t.cost.cost_without_food,"\u20ac")),t.cost.cost_with_food?r.a.createElement("div",{className:"costs_container"},r.a.createElement("div",{className:"costs_type"},"half_board"),r.a.createElement("div",{className:"costs_number"},t.cost.cost_with_food,"\u20ac")):r.a.createElement("div",null))))),r.a.createElement("div",{className:"familyItem-mobile"},r.a.createElement("div",{className:"square-container"},t.photos?r.a.createElement("img",{src:t.photos[0],alt:""}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"data"},r.a.createElement("div",{className:"title"},"Family in ",t.district),r.a.createElement("ul",{className:"properties"},r.a.createElement("li",null,t.property_type),r.a.createElement("li",null,t.accommodation_type)),r.a.createElement("div",{className:"free-costs_container"},r.a.createElement("div",{className:"freeProperty"},!0===t.free?r.a.createElement("div",{className:"free"},"Free right now"):r.a.createElement("div",{className:"free_after"},"Free after: ",t.free)),r.a.createElement("div",{className:"costs"},r.a.createElement("div",{className:"costs_container"},r.a.createElement("div",{className:"costs_type"},"without food"),r.a.createElement("div",{className:"costs_number"},t.cost.cost_without_food,"\u20ac")),t.cost.cost_with_food?r.a.createElement("div",{className:"costs_container"},r.a.createElement("div",{className:"costs_type"},"half_board"),r.a.createElement("div",{className:"costs_number"},t.cost.cost_with_food,"\u20ac")):r.a.createElement("div",null))))))},A=(a(101),function(){var e=Object(C.c)((function(e){return e.family.families}));return e&&e.length?r.a.createElement("div",{className:"familiesList"},e.map((function(e){return r.a.createElement(R,{key:e._id,family:e})}))):r.a.createElement("h1",null,"Families are not found")}),U=(a(102),{families:[],currFamily:{},totalNumber:0,currPage:1,limit:6});var D=function(e){return{type:"SET_CURR_PAGE",payload:e}},M=function(e,t){return function(){var a=Object(d.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.post("/family/getFamilies",{options:e,paginationOptions:t});case 3:r=a.sent,console.log(r.data),n({type:"GET_FAMILIES",payload:r.data.families}),n({type:"SET_TOTAL_NUMBER",payload:r.data.totalNumber}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},F={conditions:{wifi:!1,separate_bath:!1,food:{half_board:!1,only_breakfast:!1},pets:!1,kitchen:!1},registration:!1,free:!1,range:[0,1e3]},L=function(e,t){return{type:"SET_CONDITIONS",payload:e,value:t}},G=function(e,t){return{type:"CHANGE_FOOD",payload:e,value:t}},B=function(e){return{type:"SET_RANGE",payload:e}},H=a(148),W=a(145),V=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.options.conditions})),a=Object(C.c)((function(e){return e.options.free})),c=Object(C.c)((function(e){return e.options.registration})),l=Object(n.useState)(t),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(a),p=Object(o.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(c),b=Object(o.a)(v,2),h=b[0],O=b[1],g=Object(n.useState)(!1),_=Object(o.a)(g,2),N=_[0],y=_[1],j=Object(C.c)((function(e){return e.family.currPage})),S=Object(C.c)((function(e){return e.family.limit})),k=Object(C.c)((function(e){return e.options.range})),w=Object(n.useState)(k),x=Object(o.a)(w,2),I=x[0],T=x[1];return Object(n.useEffect)((function(){clearTimeout(N);var n={conditions:t,registration:c,free:a,range:k},r={currPage:j,limit:S};""===k[0]||""===k[1]?e(B([0,1e3])):t.wifi||t.separate_bath||t.pets||t.kitchen||c||a||0!==k[0]||1e3!==k[1]?y((function(){return setTimeout((function(n){f!==a||h!==c||I!==k||u!==t?(console.log(k),e(D(1)),e(M(n,{currPage:1,limit:S})),m(t),O(c),E(a),T(k)):e(M(n,r))}),500,n)})):y((function(){return setTimeout((function(){e(M(null,r))}),300)}))}),[t,a,c,k,j]),r.a.createElement("div",{className:"options_container"},r.a.createElement("div",{className:"main-title",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},"Choose your options"),r.a.createElement("div",{className:"cost",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},r.a.createElement("div",{className:"title"},"Cost:"),r.a.createElement("div",{className:"input_area"},r.a.createElement(i,{type:"number",value:k[0],onChange:function(t){T(k),e(B([t.target.value,k[1]]))}}),"-",r.a.createElement(i,{type:"number",value:k[1],onChange:function(t){T(k),e(B([k[0],t.target.value]))}})),r.a.createElement("div",{className:"mui-slider"},r.a.createElement(H.a,{sx:{width:160}},r.a.createElement(W.a,{getAriaLabel:function(){return"Cost"},value:k,onChange:function(t,a){T(k),e(B(a))},valueLabelDisplay:"auto",max:1e3})))),r.a.createElement("div",{className:"title"},"Conditions:"),r.a.createElement("div",{className:"conditions",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},r.a.createElement("div",null,r.a.createElement(i,{checked:t.wifi,type:"checkbox",onChange:function(a){m(t),e(L(a.target.checked,"wifi"))}})," Wifi"),r.a.createElement("div",null,r.a.createElement(i,{checked:t.separated_bath,type:"checkbox",onChange:function(a){m(t),e(L(a.target.checked,"separate_bath"))}})," Separate bath"),r.a.createElement("div",null,r.a.createElement(i,{checked:t.pets,type:"checkbox",onChange:function(a){m(t),e(L(a.target.checked,"pets"))}})," Without pets"),r.a.createElement("div",null,r.a.createElement(i,{checked:t.kitchen,type:"checkbox",onChange:function(a){m(t),e(L(a.target.checked,"kitchen"))}})," Kitchen usage")),r.a.createElement("div",{className:"title"},"Food"),r.a.createElement("div",{className:"food",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},r.a.createElement("div",null,r.a.createElement(i,{checked:t.food.half_board,type:"checkbox",onChange:function(a){m(t),e(G(a.target.checked,"half_board"))}})," half-board"),r.a.createElement("div",null,r.a.createElement(i,{checked:t.food.only_breakfast,type:"checkbox",onChange:function(a){m(t),e(G(a.target.checked,"only_breakfast"))}})," only breakfast")),r.a.createElement("div",{className:"registrationPermission",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},r.a.createElement("div",null,r.a.createElement(i,{checked:c,type:"checkbox",onChange:function(t){O(a),e(function(e){return{type:"SET_REGISTRATION",payload:e}}(t.target.checked))}})," Permission for registration")),r.a.createElement("div",{className:"isfree",style:{borderBottom:"1px solid rgb(142, 174, 189)"}},r.a.createElement("div",null,r.a.createElement(i,{checked:a,type:"checkbox",onChange:function(t){E(a),e(function(e){return{type:"CHANGE_FREE",payload:e}}(t.target.checked))}})," free now")),r.a.createElement("button",{className:"show_all",onClick:function(){e(D(1)),e(M(null,{currPage:1,limit:S}))}},"Show all without filters"))},Y=a(146);var K=function(){var e=Object(C.c)((function(e){return e.family.totalNumber})),t=Object(C.c)((function(e){return e.family.limit})),a=Object(C.c)((function(e){return e.family.currPage})),c=Object(C.c)((function(e){return e.UI.options_menu})),l=Object(C.c)((function(e){return e.UI.show_sidebar})),s=Object(C.b)();Object(n.useEffect)((function(){s(M(null,{currPage:a,limit:t}))}),[]);return r.a.createElement("div",{className:"env"},r.a.createElement("div",{className:"env__inner"},r.a.createElement(Y.a,{in:l,timeout:500,classNames:"options-primary",unmountOnExit:!0},r.a.createElement("div",{className:"options-mobile"},r.a.createElement(V,null))),r.a.createElement(Y.a,{in:l,timeout:500,classNames:"sidebar__outer-animation",unmountOnExit:!0},r.a.createElement("div",{onClick:function(){return s(_(!l))},className:"sidebar__outer"})),!c&&r.a.createElement("div",{className:"options"},r.a.createElement(V,null)),r.a.createElement("div",{className:"families"},r.a.createElement(A,null),r.a.createElement("nav",null,function(){for(var n=[],c=0,l=1;c<e;c+=t,l++)n.push(l);return e<=t?void 0:n.map((function(e,t){return r.a.createElement("button",{className:"page_btn ".concat(e===a?"active":""),onClick:function(){return s(D(e))},key:t},e)}))}()))))},q=a(54),Z=a.n(q);a(120),a(121),a(122);function J(e){var t=e.photos,a={dots:!0,infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1};return r.a.createElement(Z.a,a,t.map((function(e){return r.a.createElement("img",{className:"photo",key:e,src:e,alt:"image"})})))}a(131),a(123);var z,X=function(){var e=Object(s.j)(),t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){f.get("/family/getFamily?id=".concat(e.id)).then((function(e){return l(e.data.family)}))}),[]),c._id?r.a.createElement("div",{className:"show_family"},r.a.createElement("div",{className:"show_family__inner"},r.a.createElement("div",{className:"title main_title"},"Family in ",c.district),r.a.createElement("div",{className:"show_family__inner__container"},r.a.createElement("div",{className:"slider photos"},r.a.createElement(J,{photos:c.photos})),r.a.createElement("div",{className:"main-info"},r.a.createElement("div",{className:"map"},r.a.createElement("iframe",{className:"map",src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d35825.96584895187!2d11.585656865518873!3d48.13374962846394!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sru!2sua!4v1642517522714!5m2!1sru!2sua",width:"100%",style:{border:0},loading:"lazy"})),r.a.createElement("div",{className:"properties"}),r.a.createElement("div",{className:"conditions"},r.a.createElement("div",{className:"title-conditions"},"Conditions:"),r.a.createElement("ul",null,c.conditions.wifi?r.a.createElement("li",null," Wifi available"):r.a.createElement("div",null),c.conditions.separate_bath?r.a.createElement("li",null," Separate bath"):r.a.createElement("div",null),c.conditions.food.half_board?r.a.createElement("li",null," We can provide breakfast or half-board nutrition"):c.conditions.food.only_breakfast?r.a.createElement("li",null,"We can provide breakfasts"):r.a.createElement("div",null),c.conditions.kitchen?r.a.createElement("li",null," You can use our kitchen to cook"):r.a.createElement("div",null))),r.a.createElement("div",{className:"property_type"},r.a.createElement("div",{className:"title"},"Property and accommodation type"),r.a.createElement("div",null,c.property_type),r.a.createElement("div",null,c.accommodation_type)))),r.a.createElement("div",{className:"description"},r.a.createElement("div",{className:"title description-title"},"Description:"),c.description))):r.a.createElement("div",null)},Q=(a(124),a(40)),$=function(){var e=Object(C.b)(),t=Object(n.useState)([{value:"",id:Object(Q.a)()}]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(0),i=Object(o.a)(s,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){clearTimeout(u),m(setTimeout((function(){e(function(e){return{type:"SET_MEMBERS",payload:e}}(c))}),500))}),[c]),r.a.createElement("div",{className:"members_list"},r.a.createElement("button",{className:"add_btn",onClick:function(){l((function(e){return[].concat(Object(b.a)(e),[{value:"",id:Object(Q.a)()}])}))}},"Add one"),c.map((function(e,t){return r.a.createElement("div",{key:e.id},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"member",value:e.value,onChange:function(e){return function(e,t){var a=Object(b.a)(c);a[t].value=e.target.value,l(a)}(e,t)}})),r.a.createElement("button",{className:"delete_btn",onClick:function(){return function(e){var t=c.filter((function(t){return t.id!==e}));l(t)}(e.id)}},"remove"))})))},ee=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(""),b=Object(o.a)(v,2),h=b[0],O=b[1],g=Object(n.useState)(!1),_=Object(o.a)(g,2),N=_[0],y=_[1],j=Object(n.useState)(0),S=Object(o.a)(j,2),k=S[0],w=S[1],x=Object(n.useState)(!0),I=Object(o.a)(x,2),T=I[0],P=I[1],R=Object(n.useState)(!1),A=Object(o.a)(R,2),U=(A[0],A[1]),D=Object(C.c)((function(e){return e.UI.members})),M=(Object(C.c)((function(e){return e.UI.photos})),Object(C.c)((function(e){return e.user.currentUser.admin}))),F={contacts:a,adress:u,desc:f,living:h,eating:N,cost:k,free:T};return Object(n.useEffect)((function(){var e=0;D.map((function(t){t.value&&e++})),a&&u&&f&&h&&k&&e===D.length?U(!0):U(!1)}),[F]),M?r.a.createElement("div",{className:"create"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"create__inner"},r.a.createElement("h2",null,"Add new family:"),r.a.createElement("div",{className:"options"},r.a.createElement("div",{className:"photos"},r.a.createElement("div",{className:"title"},"Photos:")),r.a.createElement("div",{className:"members"},r.a.createElement("div",{className:"title"},"Family members:"),r.a.createElement($,null)),r.a.createElement("div",{className:"contacts"},r.a.createElement("div",{className:"title"},"Contacts:"),r.a.createElement(i,{value:a,placeholder:"contacts",type:"text",onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"title"},"Adress:"),r.a.createElement(i,{value:u,placeholder:"adress",type:"text",onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"title"},"Description:"),r.a.createElement("textarea",{placeholder:"Description",value:f,onChange:function(e){return E(e.target.value)},cols:"40",rows:"5"})),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"title"},"Living conditions"),r.a.createElement("textarea",{placeholder:"Living",value:h,onChange:function(e){return O(e.target.value)},cols:"40",rows:"5"})),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"title"},"Eating"),r.a.createElement(i,{type:"checkbox",checked:N,onChange:function(e){return y(e.target.checked)}})),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"title"},"Cost"),r.a.createElement(i,{type:"number",value:k,onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"title"},"Free"),r.a.createElement(i,{type:"checkbox",checked:T,onChange:function(e){return P(e.target.checked)}})))))):r.a.createElement("div",{className:"no_permission"},r.a.createElement("div",{className:"title"},"Sorry, but you don`t have a permission to add new families"))},te=(a(125),function(){var e=Object(C.c)((function(e){return e.user.currentUser.admin}));return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile__options"},r.a.createElement(P.c,{to:"/profile",end:!0},"Main profile"),r.a.createElement(P.c,{to:"/profile/activate"},"Activate account"),e?r.a.createElement(P.c,{to:"/profile/create",end:!0},"Add family"):"",r.a.createElement(P.c,{to:"/profile/settings"},"Settings")),r.a.createElement("div",{className:"profile__env"},r.a.createElement(s.b,null)))}),ae=function(){return r.a.createElement("div",{className:"edit"},"Edit Profile")},ne=function(){return r.a.createElement("div",{className:"activate"},r.a.createElement("div",{className:"title"},"Activation will be availible in next updates"))},re=function(){return r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"title"},"Settings"),r.a.createElement("div",{className:"language"},r.a.createElement("div",{className:"title"},"Select interface language"),r.a.createElement(i,null)))},ce=(a(126),function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.user.currentUser})),a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(t.firstName||""),p=Object(o.a)(u,2),E=p[0],v=p[1],b=Object(n.useState)(t.lastName||""),h=Object(o.a)(b,2),O=h[0],g=h[1],_=Object(n.useState)(t.gender||"male"),N=Object(o.a)(_,2),y=N[0],j=N[1],k=Object(n.useState)(!1),w=Object(o.a)(k,2),x=w[0],I=w[1];return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"general_info"},r.a.createElement("div",{className:"title"},"General information"),r.a.createElement("div",{className:"edit_container",style:{height:"30px"}},l?r.a.createElement("div",{style:{height:"10px"}}):r.a.createElement("button",{className:"edit_btn",onClick:function(){return s(!0)}},"Edit profile")),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"first_name"},r.a.createElement("div",{className:"title"},"First Name"),l?r.a.createElement(i,{placeholder:t.firstName,value:E,onChange:function(e){v(e.target.value),I(!1)}}):r.a.createElement("div",{className:"display_info"}," ",t.firstName)),r.a.createElement("div",{className:"Second_name"},r.a.createElement("div",{className:"title"},"Last Name"),l?r.a.createElement(i,{placeholder:t.lastName,value:O,onChange:function(e){g(e.target.value),I(!1)}}):r.a.createElement("div",{className:"display_info"}," ",t.lastName)),r.a.createElement("div",{className:"gender"},r.a.createElement("div",{className:"title"},"Gender"),l?r.a.createElement("select",{value:y,onChange:function(e){return j(e.target.value)}},r.a.createElement("option",{value:"male"},"male"),r.a.createElement("option",{value:"female"},"female")):r.a.createElement("div",{className:"display_info"}," ",t.gender)),r.a.createElement("div",{className:"email"},r.a.createElement("div",{className:"title"},"Email"),r.a.createElement("div",{className:"display_info"}," ",t.email))),r.a.createElement("div",{className:"save_container",style:{height:"40px"}},x?r.a.createElement("div",{className:"error_msg"},"All fields must be filled in"):"",l?r.a.createElement("button",{className:"save_btn",onClick:function(){""!==E&&""!==O?(s(!1),e(function(e,t,a){return function(){var n=Object(d.a)(m.a.mark((function n(r){var c,l,s,o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.put("user/update",{firstName:e,lastName:t,gender:a});case 3:c=n.sent,r(S(c.data.user)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(null===(l=n.t0.response)||void 0===l?void 0:l.data),alert(null===(s=n.t0.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(E,O,y))):I(!0)}},"Save changes"):r.a.createElement("div",{style:{height:"10px"}}))))}),le=function(e){return e?r.a.createElement(s.e,null,r.a.createElement(s.c,{path:"/",element:r.a.createElement(K,null)}),r.a.createElement(s.c,{path:"/show/:id",element:r.a.createElement(X,null)}),r.a.createElement(s.c,{path:"/profile/",element:r.a.createElement(te,null)},r.a.createElement(s.c,{index:!0,element:r.a.createElement(ce,null)}),r.a.createElement(s.c,{path:"edit",element:r.a.createElement(ae,null)}),r.a.createElement(s.c,{path:"activate",element:r.a.createElement(ne,null)}),r.a.createElement(s.c,{path:"create",element:r.a.createElement(ee,null)}),r.a.createElement(s.c,{path:"settings",element:r.a.createElement(re,null)})),r.a.createElement(s.c,{path:"/authorisation",element:r.a.createElement(s.a,{replace:!0,to:"/"})}),r.a.createElement(s.c,{path:"/registration",element:r.a.createElement(s.a,{replace:!0,to:"/"})})):r.a.createElement(s.e,null,r.a.createElement(s.c,{path:"/",element:r.a.createElement(T,null)}),r.a.createElement(s.c,{path:"/authorisation",element:r.a.createElement(I,null)}),r.a.createElement(s.c,{path:"/registration",element:r.a.createElement(x,null)}),r.a.createElement(s.c,{path:"/logout",element:r.a.createElement(s.a,{replace:!0,to:"/"})}))},se=(a(127),a(128),function(){var e=Object(C.c)((function(e){return e.user.currentUser})),t=Object(C.b)();return r.a.createElement("div",{className:"account_popup"},r.a.createElement("button",{onClick:function(){return t({type:"HIDEPOPUP"})}},"X"),r.a.createElement("div",{className:"main-info"},r.a.createElement("div",{className:"email"},e.firstName||e.email)),r.a.createElement("div",{className:"profile_options"},r.a.createElement("div",{className:"edit",style:{paddingTop:"3px"}},r.a.createElement(P.b,{onClick:function(){return t({type:"HIDEPOPUP"})},to:"/profile"},"Profile")),r.a.createElement("div",{className:"help",style:{paddingTop:"3px"}},r.a.createElement(P.b,{onClick:function(){return t({type:"HIDEPOPUP"})},to:"/profile/help"},"Help")),r.a.createElement("div",{className:"activation",style:{paddingTop:"3px"}},r.a.createElement(P.b,{onClick:function(){return t({type:"HIDEPOPUP"})},to:"/profile/activate"},"Activate account")),r.a.createElement("div",{className:"settings",style:{paddingTop:"3px"}},r.a.createElement(P.b,{onClick:function(){return t({type:"HIDEPOPUP"})},to:"/profile/settings"},"Settings")),r.a.createElement("div",{className:"logout",style:{padding:"3px 0"},onClick:function(){t(function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/user/logout");case 3:localStorage.removeItem("Access_token"),t({type:"LOGOUT"}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",alert(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),t({type:"HIDEPOPUP"})}},"Logout")))}),oe=["svgRef","title"];function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var me=function(e){var t=e.svgRef,a=e.title,n=ue(e,oe);return r.a.createElement("svg",ie({viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,z||(z=r.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM6.02332 15.4163C7.49083 17.6069 9.69511 19 12.1597 19C14.6243 19 16.8286 17.6069 18.2961 15.4163C16.6885 13.9172 14.5312 13 12.1597 13C9.78821 13 7.63095 13.9172 6.02332 15.4163ZM12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z"})))},de=r.a.forwardRef((function(e,t){return r.a.createElement(me,ie({svgRef:t},e))})),pe=(a.p,a(129),function(){var e=Object(C.c)((function(e){return e.UI.showpopup})),t=Object(C.c)((function(e){return e.user.isAuth})),a=Object(C.c)((function(e){return e.UI.options_menu})),c=Object(C.c)((function(e){return e.UI.show_sidebar})),l=Object(s.h)("/"),o=Object(C.b)();return Object(n.useEffect)((function(){var e=window.matchMedia("(max-width: 780px)");return e.matches&&o(g(!0)),e.addListener((function(e){o(g(e.matches))})),function(){return e.removeListener()}}),[]),!a&&c&&o(_(!c)),r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"container"},t&&l&&a&&r.a.createElement("div",{onClick:function(){o(_(!c)),e&&o({type:"HIDEPOPUP"})},className:"navbar__optionsMenu ".concat(c?"sidebar_opened":"sidebar_closed")},r.a.createElement("div",{className:"navbar__optionsMenu_btn"})),r.a.createElement("div",{className:"navbar__logo navbar__logo_pc"},r.a.createElement(P.b,{to:"/"}," Axioma Sprachb\xf6rse")),r.a.createElement("div",{className:"navbar__logo navbar__logo_mobile"},r.a.createElement(P.b,{to:"/"}," Axioma")),r.a.createElement("div",{className:"navbar__links"},!t&&r.a.createElement("div",{className:"navbar__authorisation"},r.a.createElement(P.b,{to:"/authorisation"},"Sign in")),!t&&r.a.createElement("div",{className:"navbar__registration"},r.a.createElement(P.b,{to:"/registration"},"Sign up")),t&&r.a.createElement("div",{className:"navbar__account",onClick:function(){o({type:"SHOWPOPUP"}),c&&o(_(!c))}},r.a.createElement(de,null)),r.a.createElement(Y.a,{in:e,timeout:500,classNames:"account_popup",unmountOnExit:!0},r.a.createElement(se,null)),r.a.createElement(Y.a,{in:e,timeout:500,classNames:"profile-popup__outer",unmountOnExit:!0},r.a.createElement("div",{onClick:function(){o({type:"HIDEPOPUP"})},className:"profile-popup__outer"})))))}),fe=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.user.isAuth})),a=Object(C.c)((function(e){return e.user.currentUser.admin}));return Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/user/auth");case 3:a=e.sent,t(S(a.data.user)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement(P.a,null,r.a.createElement(pe,null),le(t,a))},Ee=a(26),ve=a(56),be=a(57),he=Object(Ee.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(h.a)(Object(h.a)({},e),{},{currentUser:t.payload,isAuth:!0});case"LOGOUT":return Object(h.a)(Object(h.a)({},e),{},{currentUser:{},isAuth:!1});default:return e}},family:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FAMILIES":return Object(h.a)(Object(h.a)({},e),{},{families:t.payload});case"SET_CURRENT_FAMILY":return Object(h.a)(Object(h.a)({},e),{},{currFamily:t.payload});case"SET_TOTAL_NUMBER":return Object(h.a)(Object(h.a)({},e),{},{totalNumber:t.payload});case"SET_CURR_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currPage:t.payload});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOWPOPUP":return Object(h.a)(Object(h.a)({},e),{},{showpopup:!0});case"HIDEPOPUP":return Object(h.a)(Object(h.a)({},e),{},{showpopup:!1});case"SWITCH_OPTIONS_MENU_VISIBILITY":return Object(h.a)(Object(h.a)({},e),{},{options_menu:t.payload});case"SET_SIDEBAR_VISIBILITY":return Object(h.a)(Object(h.a)({},e),{},{show_sidebar:t.payload});case"SET_MEMBERS":return Object(h.a)(Object(h.a)({},e),{},{members:t.payload});case"SET_PHOTOS":return Object(h.a)(Object(h.a)({},e),{},{photos:[].concat(Object(b.a)(e.photos),[t.payload])});case"SET_REGISTRATION_ERRORS":return Object(h.a)(Object(h.a)({},e),{},{registration_errors:Object(h.a)(Object(h.a)({},e.registration_errors),{},Object(v.a)({},t.error,{value:t.payload,message:t.message}))});case"REMOVE_REGISTRATION_ERROR":return Object(h.a)(Object(h.a)({},e),{},{registration_errors:Object(h.a)(Object(h.a)({},e.registration_errors),{},Object(v.a)({},t.error,{value:!1,message:""}))});case"CLEAR_REGISTRATION_ERRORS":return Object(h.a)(Object(h.a)({},e),{},{registration_errors:{"name.value":!1,"lastname.value":!1,"email.value":!1,"password.value":!1}});default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONDITIONS":return Object(h.a)(Object(h.a)({},e),{},{conditions:Object(h.a)(Object(h.a)({},e.conditions),{},Object(v.a)({},t.value,t.payload))});case"CHANGE_FOOD":return Object(h.a)(Object(h.a)({},e),{},{conditions:Object(h.a)(Object(h.a)({},e.conditions),{},{food:Object(h.a)(Object(h.a)({},e.conditions.food),{},Object(v.a)({},t.value,t.payload))})});case"CHANGE_FREE":return Object(h.a)(Object(h.a)({},e),{},{free:t.payload});case"SET_REGISTRATION":return Object(h.a)(Object(h.a)({},e),{},{registration:t.payload});case"SET_RANGE":return Object(h.a)(Object(h.a)({},e),{},{range:t.payload});default:return e}}}),Oe=Object(Ee.createStore)(he,Object(ve.composeWithDevTools)(Object(Ee.applyMiddleware)(be.a)));l.a.render(r.a.createElement(C.a,{store:Oe},r.a.createElement(fe,null)),document.getElementById("root"))},66:function(e,t,a){e.exports=a(130)},71:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.e4df438b.chunk.js.map